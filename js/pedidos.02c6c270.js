"use strict";(self["webpackChunkvue_restaurant"]=self["webpackChunkvue_restaurant"]||[]).push([[550],{1638:function(a,t,e){e.r(t),e.d(t,{default:function(){return A}});var i=e(3396);const s={class:"main-container"},d=(0,i._)("h1",null,"Gerenciar Pedidos:",-1);function o(a,t,e,o,n,l){const u=(0,i.up)("Dashboard");return(0,i.wg)(),(0,i.iD)("div",s,[d,(0,i.Wm)(u)])}var n=e(9242),l=e(7139);const u=a=>((0,i.dD)("data-v-2775076a"),a=a(),(0,i.Cn)(),a),v={id:"burger-table"},r=u((()=>(0,i._)("div",null,[(0,i._)("div",{id:"burger-table-heading"},[(0,i._)("div",{class:"order-id"},"#:"),(0,i._)("div",null,"Cliente:"),(0,i._)("div",null,"Pão:"),(0,i._)("div",null,"Carne:"),(0,i._)("div",null,"Opcionais:"),(0,i._)("div",null,"Ações:")])],-1))),c={id:"burger-table-rows"},g=(0,i.uE)('<div class="burger-table-row" data-v-2775076a><div class="order-number" data-v-2775076a>1</div><div data-v-2775076a>João</div><div data-v-2775076a>Australiano</div><div data-v-2775076a>Veggie</div><div data-v-2775076a><ul data-v-2775076a><li data-v-2775076a>Arroz</li><li data-v-2775076a>Tomate</li></ul></div><div data-v-2775076a><select name="status" class="status" data-v-2775076a><option value="" data-v-2775076a>Selecione</option><option value="" data-v-2775076a>Em execução</option><option value="" data-v-2775076a>Atualizar</option></select><button class="delete-btn" data-v-2775076a>Cancelar</button></div></div><div class="burger-table-row" data-v-2775076a><div class="order-number" data-v-2775076a>2</div><div data-v-2775076a>Luis</div><div data-v-2775076a>Australiano</div><div data-v-2775076a>Picanha</div><div data-v-2775076a><ul data-v-2775076a><li data-v-2775076a>Bacon</li><li data-v-2775076a>Tomate</li></ul></div><div data-v-2775076a><select name="status" class="status" data-v-2775076a><option value="" data-v-2775076a>Selecione</option><option value="" data-v-2775076a>Em execução</option><option value="" data-v-2775076a>Atualizar</option></select><button class="delete-btn" data-v-2775076a>Cancelar</button></div></div>',2),p={class:"order-number"},b=["onChange"],h=u((()=>(0,i._)("option",{value:""},"Selecione",-1))),m=["value","selected"],w=["onClick"];function _(a,t,e,s,d,o){const u=(0,i.up)("Message");return(0,i.wg)(),(0,i.iD)("div",v,[(0,i.wy)((0,i.Wm)(u,{msg:d.msg},null,8,["msg"]),[[n.F8,d.msg]]),r,(0,i._)("div",c,[g,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.burgers,(a=>((0,i.wg)(),(0,i.iD)("div",{class:"burger-table-row",key:a.id},[(0,i._)("div",p,(0,l.zw)(a.id),1),(0,i._)("div",null,(0,l.zw)(a.nome),1),(0,i._)("div",null,(0,l.zw)(a.pao),1),(0,i._)("div",null,(0,l.zw)(a.carne),1),(0,i._)("div",null,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.opcionais,((a,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},(0,l.zw)(a),1)))),128))])]),(0,i._)("div",null,[(0,i._)("select",{name:"status",class:"status",onChange:t=>o.updateBurger(t,a.id)},[h,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.status,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.id,value:t.tipo,selected:a.status==t.tipo},(0,l.zw)(t.tipo),9,m)))),128))],40,b),(0,i._)("button",{class:"delete-btn",onClick:t=>o.deleteBurger(a.id)},"Cancelar",8,w)])])))),128))])])}var C=e(121),f={name:"Dashboard",components:{Message:C.Z},data(){return{burgers:null,burger_id:null,status:[],msg:null}},methods:{async getPedidos(){const a=await fetch("http://localhost:3000/burgers"),t=await a.json();this.burgers=t,this.getStatus()},async getStatus(){const a=await fetch("http://localhost:3000/status"),t=await a.json();this.status=t},async deleteBurger(a){const t=await fetch(`http://localhost:3000/burgers/${a}`,{method:"DELETE"});t.json();this.msg="Pedido removido com sucesso!",setTimeout((()=>this.msg=""),3e3),this.getPedidos()},async updateBurger(a,t){const e=a.target.value,i=JSON.stringify({status:e}),s=await fetch(`http://localhost:3000/burgers/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:i}),d=await s.json();this.msg=`O pedido N° ${d.id} foi atualizado para ${d.status}`,setTimeout((()=>this.msg=""),3e3)}},mounted(){this.getPedidos()}},D=e(89);const y=(0,D.Z)(f,[["render",_],["__scopeId","data-v-2775076a"]]);var z=y,k={name:"Pedidos",components:{Dashboard:z}};const P=(0,D.Z)(k,[["render",o]]);var A=P}}]);
//# sourceMappingURL=pedidos.02c6c270.js.map